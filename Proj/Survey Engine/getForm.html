<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html"; sharset=utf-8"/>
    <title>Display the Surveys and add more if be</title>
    <script type="text/javascript" src="Survey.js"></script>
    <script type="text/javascript" src="getForm.js"></script>
  </head>

  <body class="main-body">
    <section class="container form-section">
      <form name="surveyForm" action="getForm.html" method="get">
          <input name="Name" type="text"/>        <label>Name</label><br></br>
          <input name="Description" type="text"/> <label>Description</label><br></br>
          <input name="Answer1" type="text"/>     <label>Answer1</label><br></br>
          <input name="Answer2" type="text"/>     <label>Asnwer2</label><br></br>
          <input name="Answer3" type="text"/>     <label>Answer3</label><br></br>
          <input name="Submit" type="submit"/>
      </form>
    </section>

    <div id="main-div">
      <section class="container content-section">
        <div id="survey-container" class="survey-objects">
          
        </div>
      </section>
    </div>
    <script type="text/javascript">
      //Grab the info from the form
      var url=document.location.href;
        var $_GET=getForm(url);
        var counter=0;
        var questNum = [];

        for(property in $_GET){
            var str=$_GET[property];          //Place property value in string
            var dec=decodeURIComponent(str);  //Convert to ascii
            var clean=dec.replace(/\++/g,' ');//Remove + and replace by space
            $_GET[property]=clean;            //Cleaned values
            counter++;
            if(counter>2&&clean!="")questNum.push(clean); //Place answers int their own array
        }
        
        //Fill the Question with form information and display
        var survey=new Survey($_GET["Name"],$_GET["Description"], questNum);
        survey.display('SurveyBox');
        survey.displayForm();
    </script>
  </body>

</html>